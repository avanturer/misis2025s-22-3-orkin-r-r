# Shadow Detection Algorithms

## Алгоритмы обнаружения теней в компьютерном зрении

### Основные подходы к обнаружению теней:

1. **Цветовые пространства**
   - **HSV**: Наиболее популярный подход для выделения теней
   - **Lab**: Помогает разделить освещение и цвет
   - **YCbCr**: Полезен для отделения яркости от цветовой информации

2. **Пороговая обработка**
   - Одноуровневые пороги
   - Адаптивные пороги
   - Метод Отсу

3. **Морфологические операции**
   - Эрозия и дилатация
   - Открытие и закрытие
   - Морфологический градиент

### Особенности обнаружения теней в HSV пространстве:

В HSV пространстве тени обычно имеют следующие характеристики:
- **Hue (оттенок)**: Сходен с оттенком оригинального объекта
- **Saturation (насыщенность)**: Ниже, чем у оригинального объекта
- **Value (яркость)**: Значительно ниже, чем у оригинального объекта

### Псевдокод алгоритма:

```
1. Конвертировать изображение из RGB в HSV
2. Применить пороги для HSV каналов
3. Создать бинарную маску для теней
4. Применить морфологические операции для удаления шума
5. Сегментировать тени на исходном изображении
```

### Преимущества и недостатки подхода на основе HSV:

**Преимущества:**
- Простота реализации
- Низкая вычислительная сложность
- Хорошо работает при контролируемых условиях освещения

**Недостатки:**
- Чувствительность к изменениям освещения
- Сложность определения оптимальных порогов
- Путаница между тенями и темными объектами

## Примеры параметров HSV для разных условий:

| Тип сцены | H min | H max | S min | S max | V min | V max |
|-----------|-------|-------|-------|-------|-------|-------|
| Асфальт   | 0     | 30    | 0     | 60    | 0     | 80    |
| Трава     | 40    | 80    | 30    | 150   | 20    | 100   |
| Помещение | 0     | 179   | 0     | 80    | 0     | 60    |
| Снег      | 80    | 120   | 0     | 50    | 0     | 120   |
