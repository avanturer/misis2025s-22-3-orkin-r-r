# MISIS 2025 Spring - Image Processing and Analysis Course

## Обработка и анализ изображений

### Структура проекта

```
misis2025s-22-3-orkin-r-r/
├── CMakeLists.txt                    # Главный файл сборки
├── README.md                         # Этот файл
├── build.sh                         # Скрипт сборки
├── semcv/                           # Библиотека semcv
│   ├── CMakeLists.txt
│   ├── include/
│   │   └── semcv.h                  # Заголовочный файл библиотеки
│   └── src/                         # Исходные файлы библиотеки
│       ├── gamma_correction.cpp
│       ├── noise_generation.cpp
│       ├── auto_contrast.cpp
│       ├── binarization.cpp
│       ├── linear_filtering.cpp
│       ├── object_detection.cpp
│       ├── edge_detection.cpp
│       ├── utility_functions.cpp
│       └── test_functions.cpp
└── prj.lab/                        # Лабораторные работы
    ├── CMakeLists.txt
    ├── lab1_raster_formats_gamma/   # Лаб. 1: Форматы растров и гаммакоррекция
    ├── lab2_image_noise/            # Лаб. 2: Зашумление изображений
    ├── lab3_auto_contrast/          # Лаб. 3: Автоконтрастирование
    ├── lab4_binarization_detection/ # Лаб. 4: Детектирование бинаризацией
    ├── lab5_linear_filtering/       # Лаб. 5: Линейная фильтрация изображений
    ├── lab6_object_detection_filtering/ # Лаб. 6: Детектирование объектов фильтрацией
    └── lab7_edge_detection/         # Лаб. 7: Детектирование границ объектов
```

### Лабораторные работы

#### Лабораторная 1 - Форматы растров и гаммакоррекция
- Загрузка и конвертация изображений между различными форматами
- Применение гамма-коррекции с различными значениями gamma
- Анализ гистограмм до и после коррекции
- Сохранение изображений в разных растровых форматах

#### Лабораторная 2 - Зашумление изображений
- Добавление различных типов шума:
  - Гауссовский шум
  - Импульсный шум (соль и перец)
  - Равномерный шум
  - Пуассоновский шум
  - Спекл-шум
- Сравнение методов шумоподавления
- Вычисление метрик качества (PSNR, MSE, SNR)

#### Лабораторная 3 - Автоконтрастирование
- Автоматическое улучшение контраста
- Эквализация гистограммы
- CLAHE (Contrast Limited Adaptive Histogram Equalization)
- Растяжение гистограммы

#### Лабораторная 4 - Детектирование бинаризацией
- Глобальная пороговая обработка
- Метод Оцу
- Адаптивная пороговая обработка
- Детектирование объектов через бинаризацию

#### Лабораторная 5 - Линейная фильтрация изображений
- Гауссово размытие
- Усредняющий фильтр (box filter)
- Медианный фильтр
- Билатеральный фильтр
- Пользовательские линейные фильтры

#### Лабораторная 6 - Детектирование объектов фильтрацией
- Сопоставление шаблонов (template matching)
- Детектирование углов (Harris corner detector)
- Детектирование ключевых точек
- Морфологические операции

#### Лабораторная 7 - Детектирование границ объектов
- Детектор границ Собела
- Детектор границ Кэнни
- Лапласиан
- Детектор Шарра
- Детектор Превитта
- Преобразование Хафа для линий и окружностей

### Требования

- CMake 3.10 или выше
- OpenCV 4.x
- Компилятор с поддержкой C++17

### Установка OpenCV

#### Ubuntu/Debian:
```bash
sudo apt update
sudo apt install libopencv-dev
```

#### macOS (через Homebrew):
```bash
brew install opencv
```

#### Windows:
Скачайте и установите OpenCV с официального сайта или используйте vcpkg.

### Сборка проекта

1. Клонируйте репозиторий или распакуйте архив
2. Перейдите в директорию проекта
3. Выполните сборку:

```bash
# Использование скрипта сборки
./build.sh

# Или вручную
mkdir build
cd build
cmake ..
make -j$(nproc)
```

### Запуск лабораторных работ

После сборки исполняемые файлы будут находиться в `build/bin/`:

```bash
# Запуск лабораторной работы 1
./build/bin/lab1_raster_formats_gamma

# Запуск лабораторной работы 1 с собственным изображением
./build/bin/lab1_raster_formats_gamma path/to/image.jpg

# Запуск тестов для лабораторной работы 1
./build/bin/test/lab1_raster_formats_gamma_test
```

### Запуск всех тестов

```bash
# Из корневой директории проекта
cd build
ctest
```

### Использование библиотеки semcv

Библиотека semcv предоставляет удобные функции для обработки изображений:

```cpp
#include "semcv.h"

int main() {
    // Загрузка изображения
    cv::Mat image = semcv::loadImage("input.jpg");

    // Применение гамма-коррекции
    cv::Mat gammaCorrected = semcv::gammaCorrection(image, 2.2);

    // Добавление шума
    cv::Mat noisy = semcv::addGaussianNoise(image, 0, 25);

    // Детектирование границ
    cv::Mat edges = semcv::cannyEdgeDetection(image, 100, 200);

    // Сохранение результата
    semcv::saveImage("output.jpg", edges);

    return 0;
}
```

### Структура каждой лабораторной работы

Каждая лабораторная работа содержит:
- `include/` - заголовочные файлы
- `src/` - исходные файлы реализации
- `test/` - тесты
- `CMakeLists.txt` - файл сборки

### Примечания

- Все изображения сохраняются в директории проекта
- Для корректной работы убедитесь, что OpenCV установлен правильно
- При возникновении проблем со сборкой проверьте пути к OpenCV в CMake

### Автор

Проект выполнен для курса "Обработка и анализ изображений" МИСИС 2025.
